<!doctype html>
<html lang="es" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link rel="icon" type="image/x-icon" href="../favicon.ico" />
    <meta name="theme-color" content="#3a57e8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Cuida Salud | Principal</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js"></script>
    <script src="../config/index.js"></script>

    <script>
      
      CARGAR_COMPONENTE('aside', 'aside').then(() => {
        iniciarPagina();
      });

      const iniciarPagina = () => {
        const loader = document.querySelector('.loader');
        const color = sessionStorage.getItem("color-mode");

        if (loader && (color === "dark" || color === "light")) {
          loader.classList.add(color);
        }

        const link = document.getElementById('menu-motorizado');
        const opcionSeleccionada = link.firstElementChild.classList.add('active');

        document
          .getElementById("cerrarSesion")
          .addEventListener("click", () => {
            localStorage.clear();
            window.location.href = "../index.html";
          });

        document
          .getElementById("cerrarSesion2")
          .addEventListener("click", () => {
            localStorage.clear();
            window.location.href = "../index.html";
          });
      }

    </script> 

    <link href="../assets/css/select2.min.css" rel="stylesheet" />
    <!-- Favicon -->
    <link rel="shortcut icon" href="../assets/images/favicon.ico" />

    <!-- Library / Plugin Css Build -->
    <link rel="stylesheet" href="../assets/css/core/libs.min.css" />

    <!-- Aos Animation Css -->
    <link rel="stylesheet" href="../assets/vendor/aos/dist/aos.css" />

    <!-- Hope Ui Design System Css -->
    <link rel="stylesheet" href="../assets/css/hope-ui.min.css?v=4.0.0" />

    <!-- Custom Css -->
    <link rel="stylesheet" href="../assets/css/custom.min.css?v=4.0.0" />

    <!-- Dark Css -->
    <link rel="stylesheet" href="../assets/css/dark.min.css" />

    <!-- Customizer Css -->
    <link rel="stylesheet" href="../assets/css/customizer.min.css" />

    <!-- RTL Css -->
    <link rel="stylesheet" href="../assets/css/rtl.min.css" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css"
    />
    <link rel="stylesheet" href="../assets//css/personal.css">
  </head>
  <body class="  ">
    <!-- loader Start -->
    <div id="loading">
      <div class="loader simple-loader">
        <div class="loader-body"></div>
      </div>
    </div>
    <!-- loader END -->

    <aside id="aside"
      class="sidebar sidebar-default sidebar-white sidebar-base navs-rounded-all"
    >
    </aside>
    <main class="main-content">
      <div class="position-relative iq-banner">
        <!--Nav Start-->
        <nav class="nav navbar navbar-expand-lg navbar-light iq-navbar">
          <div class="container-fluid navbar-inner">
            <a href="../dashboard/admin.html" class="navbar-brand">
              <!--Logo start-->
              <div class="logo-main">
                <svg width="30" height="28" class="Navbar_navbar__left_logo__icon__vXe2w" viewBox="0 0 20 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M11.2815 27.3572H11.1935C6.53364 27.3342 2.2932 24.6524 0.262285 20.4404C-0.370939 19.1185 0.181103 17.53 1.50167 16.8941C2.81818 16.2582 4.40124 16.8129 5.03447 18.1348C6.17644 20.5121 8.56726 22.0262 11.1935 22.0424H11.2815C13.901 22.0248 16.2891 20.5175 17.4338 18.1511C18.0697 16.8291 19.6568 16.2784 20.9733 16.9171C22.2898 17.5557 22.8392 19.1483 22.2019 20.4702C20.1615 24.666 15.9278 27.3369 11.2815 27.3572Z" fill="#573CD6"></path>
                  <path d="M8.07886 12.0122C6.88007 13.9092 7.43887 16.4245 9.32772 17.6314C11.2166 18.8356 13.7251 18.2741 14.9239 16.3772L17.9317 11.6577L11.0853 7.26846L8.07886 12.0122Z" fill="#FF795C"></path>
                  <path d="M19.6813 1.28264C17.8033 0.0757207 15.3042 0.626409 14.0986 2.51255C14.0946 2.51932 14.0892 2.52879 14.0851 2.53555L11.0854 7.2685L17.9318 11.6578L20.9315 6.90047C22.1303 5.0035 21.5715 2.4882 19.6827 1.28128L19.6813 1.28264Z" fill="#573CD6"></path>
                </svg>
                <div class="logo-mini">
                  <svg
                    class="text-primary icon-30"
                    viewBox="0 0 30 30"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <rect
                      x="-0.757324"
                      y="19.2427"
                      width="28"
                      height="4"
                      rx="2"
                      transform="rotate(-45 -0.757324 19.2427)"
                      fill="currentColor"
                    />
                    <rect
                      x="7.72803"
                      y="27.728"
                      width="28"
                      height="4"
                      rx="2"
                      transform="rotate(-45 7.72803 27.728)"
                      fill="currentColor"
                    />
                    <rect
                      x="10.5366"
                      y="16.3945"
                      width="16"
                      height="4"
                      rx="2"
                      transform="rotate(45 10.5366 16.3945)"
                      fill="currentColor"
                    />
                    <rect
                      x="10.5562"
                      y="-0.556152"
                      width="28"
                      height="4"
                      rx="2"
                      transform="rotate(45 10.5562 -0.556152)"
                      fill="currentColor"
                    />
                  </svg>
                </div>
              </div>
              <!--logo End-->

              <h4 class="logo-title">Cuida Salud</h4>
            </a>
            <div
              class="sidebar-toggle"
              data-toggle="sidebar"
              data-active="true"
            >
              <i class="icon">
                <svg width="20px" class="icon-20" viewBox="0 0 24 24">
                  <path
                    fill="currentColor"
                    d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z"
                  />
                </svg>
              </i>
            </div>

            <button
              class="navbar-toggler"
              type="button"
              id="cerrarSesion"
              aria-expanded="false"
              aria-label="Cerrar sesion"
            >
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M15.016 7.38948V6.45648C15.016 4.42148 13.366 2.77148 11.331 2.77148H6.45597C4.42197 2.77148 2.77197 4.42148 2.77197 6.45648V17.5865C2.77197 19.6215 4.42197 21.2715 6.45597 21.2715H11.341C13.37 21.2715 15.016 19.6265 15.016 17.5975V16.6545"
                  stroke="#232D42"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M21.8096 12.0215H9.76855"
                  stroke="#232D42"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M18.8813 9.1062L21.8093 12.0212L18.8813 14.9372"
                  stroke="#232D42"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul
                class="mb-2 navbar-nav ms-auto align-items-center navbar-list mb-lg-0"
              >
                <li class="nav-item dropdown">
                  <a
                    class="py-0 nav-link d-flex align-items-center"
                    href="#"
                    id="navbarDropdown"
                    role="button"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                  >
                    <div id="avatarInicial"
                      class="bg-primary text-white d-flex justify-content-center align-items-center avatar avatar-50 avatar-rounded fw-bold"
                      style="font-size: 1rem;">
                      A
                    </div>
                    <div class="caption ms-3 d-none d-md-block">
                      <h6 class="mb-0 caption-title" id="userEmail">
                        Cargando...
                      </h6>
                      <p class="mb-0 caption-sub-title">Administrador</p>
                    </div>
                  </a>
                  <ul
                    class="dropdown-menu dropdown-menu-end"
                    aria-labelledby="navbarDropdown"
                  >
                    <li>
                      <a class="dropdown-item" href="#" id="cerrarSesion2">
                        <svg
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <path
                            d="M15.016 7.38948V6.45648C15.016 4.42148 13.366 2.77148 11.331 2.77148H6.45597C4.42197 2.77148 2.77197 4.42148 2.77197 6.45648V17.5865C2.77197 19.6215 4.42197 21.2715 6.45597 21.2715H11.341C13.37 21.2715 15.016 19.6265 15.016 17.5975V16.6545"
                            stroke="#232D42"
                            stroke-width="1.5"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                          />
                          <path
                            d="M21.8096 12.0215H9.76855"
                            stroke="#232D42"
                            stroke-width="1.5"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                          />
                          <path
                            d="M18.8813 9.1062L21.8093 12.0212L18.8813 14.9372"
                            stroke="#232D42"
                            stroke-width="1.5"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                          />
                        </svg>
                        Cerrar Sesión
                      </a>
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
          </div>
        </nav>
        <!-- Nav Header Component Start -->
        <div class="iq-navbar-header" style="height: 215px">
          <div class="container-fluid iq-container">
            <div class="row">
              <div class="col-md-12">
                <div
                  class="flex-wrap d-flex justify-content-between align-items-center"
                >
                  <div>
                    <h1>Bienvenido!</h1>
                    <p>Desde esta plataforma podrás gestionar los soportes.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="iq-header-img">
            <img
              src="../assets/images/dashboard/top-header.png"
              alt="header"
              class="theme-color-default-img img-fluid w-100 h-100 animated-scaleX"
            />
            <img
              src="../assets/images/dashboard/top-header1.png"
              alt="header"
              class="theme-color-purple-img img-fluid w-100 h-100 animated-scaleX"
            />
            <img
              src="../assets/images/dashboard/top-header2.png"
              alt="header"
              class="theme-color-blue-img img-fluid w-100 h-100 animated-scaleX"
            />
            <img
              src="../assets/images/dashboard/top-header3.png"
              alt="header"
              class="theme-color-green-img img-fluid w-100 h-100 animated-scaleX"
            />
            <img
              src="../assets/images/dashboard/top-header4.png"
              alt="header"
              class="theme-color-yellow-img img-fluid w-100 h-100 animated-scaleX"
            />
            <img
              src="../assets/images/dashboard/top-header5.png"
              alt="header"
              class="theme-color-pink-img img-fluid w-100 h-100 animated-scaleX"
            />
          </div>
        </div>
        <!-- Nav Header Component End -->
        <!--Nav End-->
      </div>
      <div class="conatiner-fluid content-inner mt-n5 py-0">
        <div class="row">
          <div class="col-sm-12">
            <div class="card">
              <div class="card-header d-flex justify-content-between flex-wrap">
                <div class="header-title">
                  <h4 class="card-title mb-0">Motorizado</h4>
                </div>
              </div>
              <div class="col-sm-12">
                <div class="m-4 col-sm-12">
                  <p>Ingresa los datos a buscar</p>
                  <div class="row">
                    <div class="col-md-4 mb-3">
                      <label class="form-label" for="codigoMotorizado"
                        >Código Motorizado</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="codigoMotorizado"
                        style="text-transform: uppercase"
                        required
                      />
                      <div class="invalid-feedback">
                        Ingresa un código de motorizado correcto.
                      </div>
                    </div>
                    <div class="col-md-4 mb-3">
                      <label class="form-label" for="numeroDocumento"
                        >Número documento</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="numeroDocumento"
                        style="text-transform: uppercase"
                        required
                      />
                      <div class="invalid-feedback">
                        Ingresa un número de documento correcto.
                      </div>
                    </div>
                    <div class="col-md-8 mb-3">
                      <label class="form-label" for="idEmpresas">Empresa</label>
                      <select class="form-select" id="idEmpresas" required>
                        <option selected value="null">TODOS</option>
                      </select>
                    </div>
                  </div>
                  <div class="form-group">
                    <button class="btn btn-primary" id="buscarMotorizado">
                      Buscar Motorizado
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-12">
            <div class="card">
              <div class="card-header d-flex justify-content-between">
                <div class="header-title">
                  <h4 class="card-title">Listado de Motorizados</h4>
                </div>
              </div>
              <div class="col-sm-12 m-4">
                <button
                  type="button"
                  class="btn btn-success mx-2 mb-2"
                  data-bs-toggle="modal"
                  data-bs-target="#modalRegistrarEmpresa"
                >
                  Registrar Empresa
                </button>
                <button
                  type="button"
                  class="btn btn-primary mb-2"
                  data-bs-toggle="modal"
                  data-bs-target="#modalRegistrarMotorizado"
                >
                  Registrar Motorizado
                </button>
              </div>
              <div class="col-sm-12" id="cargando" style="display: none">
                <center>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="100"
                    height="100"
                    viewBox="0 0 200 200"
                  >
                    <circle
                      fill="#3A57E8"
                      stroke="#3A57E8"
                      stroke-width="30"
                      r="15"
                      cx="35"
                      cy="100"
                    >
                      <animate
                        attributeName="cx"
                        calcMode="spline"
                        dur="1.2"
                        values="35;165;165;35;35"
                        keySplines="0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1"
                        repeatCount="indefinite"
                        begin="0"
                      ></animate>
                    </circle>
                    <circle
                      fill="#3A57E8"
                      stroke="#3A57E8"
                      stroke-width="30"
                      opacity=".8"
                      r="15"
                      cx="35"
                      cy="100"
                    >
                      <animate
                        attributeName="cx"
                        calcMode="spline"
                        dur="1.2"
                        values="35;165;165;35;35"
                        keySplines="0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1"
                        repeatCount="indefinite"
                        begin="0.05"
                      ></animate>
                    </circle>
                    <circle
                      fill="#3A57E8"
                      stroke="#3A57E8"
                      stroke-width="30"
                      opacity=".6"
                      r="15"
                      cx="35"
                      cy="100"
                    >
                      <animate
                        attributeName="cx"
                        calcMode="spline"
                        dur="1.2"
                        values="35;165;165;35;35"
                        keySplines="0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1"
                        repeatCount="indefinite"
                        begin=".1"
                      ></animate>
                    </circle>
                    <circle
                      fill="#3A57E8"
                      stroke="#3A57E8"
                      stroke-width="30"
                      opacity=".4"
                      r="15"
                      cx="35"
                      cy="100"
                    >
                      <animate
                        attributeName="cx"
                        calcMode="spline"
                        dur="1.2"
                        values="35;165;165;35;35"
                        keySplines="0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1"
                        repeatCount="indefinite"
                        begin=".15"
                      ></animate>
                    </circle>
                    <circle
                      fill="#3A57E8"
                      stroke="#3A57E8"
                      stroke-width="30"
                      opacity=".2"
                      r="15"
                      cx="35"
                      cy="100"
                    >
                      <animate
                        attributeName="cx"
                        calcMode="spline"
                        dur="1.2"
                        values="35;165;165;35;35"
                        keySplines="0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1"
                        repeatCount="indefinite"
                        begin=".2"
                      ></animate>
                    </circle>
                  </svg>
                </center>
              </div>
              <div class="card-body" id="tablaDatos" style="display: block">
                <div class="table-responsive">
                  <table
                    id="datatable"
                    class="table table-striped"
                    data-toggle="data-table"
                  >
                    <thead>
                      <tr>
                        <th>#Id</th>
                        <th>Código Motorizado</th>
                        <th>Nombres</th>
                        <th>Apellidos</th>
                        <th>Correo</th>
                        <th>Tipo de documento</th>
                        <th>Numero de documento</th>
                        <th>Empresa</th>
                        <th>Estado</th>
                        <th>Opciones</th>
                      </tr>
                    </thead>
                    <tbody id="bodyProductos"></tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div
        class="modal fade"
        id="modalEditarPersona"
        tabindex="-1"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <input type="hidden" id="idPersona" />
              <input type="hidden" id="idMotorizado" />

              <h5 class="modal-title" id="exampleModalLabel">
                Editar Motorizado
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <div class="col-sm-12">
                <div class="row">
                  <div class="col-md-12 mb-3">
                    <label class="form-label" for="idEmpresaP">Empresa</label>
                    <select
                      class="form-select"
                      id="idEmpresaP"
                      required
                    ></select>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label" for="tipDocumento"
                      >Tipo Documento</label
                    >
                    <select class="form-select" id="tipDocumento" required>
                      <option selected value="2">DNI</option>
                      <option value="3">CE</option>
                    </select>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label" for="numDoc"
                      >Número de documento</label
                    >
                    <input type="text" class="form-control" id="numDoc" />
                    <div class="invalid-feedback">
                      Ingresa un número de documento válido.
                    </div>
                  </div>
                  <div class="col-md-6 mb-3" id="estadosPedido"></div>
                  <div class="col-md-12 mb-3">
                    <label class="form-label" for="nombresP">Nombres</label>
                    <input type="text" class="form-control" id="nombresP" />
                    <div class="invalid-feedback">
                      Ingresa Nombres completos.
                    </div>
                  </div>
                  <div class="col-md-12 mb-3">
                    <label class="form-label" for="apellidosP"
                      >Apellidos Paterno</label
                    >
                    <input type="text" class="form-control" id="apellidosP" />
                  </div>

                  <div class="col-md-12 mb-3">
                    <label class="form-label" for="apellidosM"
                      >Apellidos Materno</label
                    >
                    <input type="text" class="form-control" id="apellidosM" />
                  </div>

                  <div class="col-md-6 mb-3">
                    <label class="form-label" for="codigoMotorizadoP"
                      >Código del Motorizado</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="codigoMotorizadoP"
                    />
                  </div>

                  <div class="col-md-6 mb-3">
                    <label class="form-label" for="estadoP">Estado</label>
                    <select class="form-select" id="estadoP" required>
                      <option selected value="ACT">ACTIVO</option>
                      <option value="INA">INACTIVO</option>
                    </select>
                  </div>

                  <div class="col-md-6 mb-3">
                    <label class="form-label" for="emailP">Correo</label>
                    <input type="email" class="form-control" id="emailP" />
                  </div>

                  <div class="col-md-6 mb-3">
                    <label class="form-label" for="passP">Contraseña</label>
                    <input type="password" class="form-control" id="passP" />
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Cancelar
              </button>
              <button
                type="button"
                class="btn btn-primary"
                id="actualizarPersona"
              >
                Actualizar
              </button>
            </div>
          </div>
        </div>
      </div>

      <div
        class="modal fade"
        id="modalRegistrarMotorizado"
        tabindex="-1"
        aria-labelledby="modalMotorizado"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="modalMotorizado">
                Registrar Motorizado
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <div class="col-sm-12">
                <div class="row">
                  <div class="col-md-12 mb-3">
                    <label class="form-label" for="idEmpresaPR">Empresa</label>
                    <select
                      class="form-select"
                      id="idEmpresaPR"
                      required
                    ></select>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label" for="tipDocumentoR"
                      >Tipo Documento</label
                    >
                    <select
                      class="form-select"
                      id="tipDocumentoR"
                      required
                    ></select>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label" for="numDocR"
                      >Número de documento</label
                    >
                    <input type="text" class="form-control" id="numDocR" />
                    <div class="invalid-feedback">
                      Ingresa un número de documento válido.
                    </div>
                  </div>
                  <div class="col-md-12 mb-3">
                    <label class="form-label" for="nombresPR">Nombres</label>
                    <input type="text" class="form-control" id="nombresPR" />
                    <div class="invalid-feedback">
                      Ingresa Nombres completos.
                    </div>
                  </div>
                  <div class="col-md-12 mb-3">
                    <label class="form-label" for="apellidosPR"
                      >Apellidos Paterno</label
                    >
                    <input type="text" class="form-control" id="apellidosPR" />
                  </div>

                  <div class="col-md-12 mb-3">
                    <label class="form-label" for="apellidosMR"
                      >Apellidos Materno</label
                    >
                    <input type="text" class="form-control" id="apellidosMR" />
                  </div>

                  <div class="col-md-6 mb-3">
                    <label class="form-label" for="codigoMotorizadoPR"
                      >Código del Motorizado</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="codigoMotorizadoPR"
                    />
                  </div>

                  <div class="col-md-6 mb-3">
                    <label class="form-label" for="emailPR">Correo</label>
                    <input type="email" class="form-control" id="emailPR" />
                  </div>

                  <div class="col-md-6 mb-3">
                    <label class="form-label" for="passPR">Contraseña</label>
                    <input type="password" class="form-control" id="passPR" />
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Cancelar
              </button>
              <button
                type="button"
                class="btn btn-primary"
                id="registrarMotorizado"
                disabled
              >
                Registrar
              </button>
            </div>
          </div>
        </div>
      </div>

      <div
        class="modal fade"
        id="modalRegistrarEmpresa"
        tabindex="-1"
        aria-labelledby="modalRegistrarE"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <input type="hidden" id="idPersona" />
              <input type="hidden" id="idMotorizado" />

              <h5 class="modal-title" id="modalRegistrarE">
                Registrar Empresa
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <div class="col-sm-12">
                <div class="row">
                  <div class="col-md-12 mb-3">
                    <label class="form-label" for="razonSocial"
                      >Razón Social</label
                    >
                    <input type="text" class="form-control" id="razonSocial" />
                    <div class="invalid-feedback">
                      Ingresa una razón social válida.
                    </div>
                  </div>
                  <div class="col-md-12 mb-3">
                    <label class="form-label" for="numRuc">Número de RUC</label>
                    <input type="text" class="form-control" id="numRuc" />
                    <div class="invalid-feedback">
                      Ingresa un número de RUC válido.
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Cancelar
              </button>
              <button
                type="button"
                class="btn btn-primary"
                id="registrarEmpresa"
              >
                Registrar
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer Section Start -->
      <footer class="footer">
        <div class="footer-body">
          <div class="right-panel">
            ©
            <script>
              document.write(new Date().getFullYear());
            </script>
            Cuida Salud, Hecho por
            <span class="">
              <svg
                class="icon-15"
                width="15"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M15.85 2.50065C16.481 2.50065 17.111 2.58965 17.71 2.79065C21.401 3.99065 22.731 8.04065 21.62 11.5806C20.99 13.3896 19.96 15.0406 18.611 16.3896C16.68 18.2596 14.561 19.9196 12.28 21.3496L12.03 21.5006L11.77 21.3396C9.48102 19.9196 7.35002 18.2596 5.40102 16.3796C4.06102 15.0306 3.03002 13.3896 2.39002 11.5806C1.26002 8.04065 2.59002 3.99065 6.32102 2.76965C6.61102 2.66965 6.91002 2.59965 7.21002 2.56065H7.33002C7.61102 2.51965 7.89002 2.50065 8.17002 2.50065H8.28002C8.91002 2.51965 9.52002 2.62965 10.111 2.83065H10.17C10.21 2.84965 10.24 2.87065 10.26 2.88965C10.481 2.96065 10.69 3.04065 10.89 3.15065L11.27 3.32065C11.3618 3.36962 11.4649 3.44445 11.554 3.50912C11.6104 3.55009 11.6612 3.58699 11.7 3.61065C11.7163 3.62028 11.7329 3.62996 11.7496 3.63972C11.8354 3.68977 11.9247 3.74191 12 3.79965C13.111 2.95065 14.46 2.49065 15.85 2.50065ZM18.51 9.70065C18.92 9.68965 19.27 9.36065 19.3 8.93965V8.82065C19.33 7.41965 18.481 6.15065 17.19 5.66065C16.78 5.51965 16.33 5.74065 16.18 6.16065C16.04 6.58065 16.26 7.04065 16.68 7.18965C17.321 7.42965 17.75 8.06065 17.75 8.75965V8.79065C17.731 9.01965 17.8 9.24065 17.94 9.41065C18.08 9.58065 18.29 9.67965 18.51 9.70065Z"
                  fill="currentColor"
                ></path>
              </svg> </span
            ><a
              target="_blank"
              href="https://www.linkedin.com/in/paulo-c%C3%A9sar-carbajal-jim%C3%A9nez-027a501b6/"
              >Paulo Carbajal</a
            >.
          </div>
        </div>
      </footer>
      <!-- Footer Section End -->
    </main>
    <a
      class="btn btn-fixed-end btn-warning btn-icon btn-setting"
      data-bs-toggle="offcanvas"
      data-bs-target="#offcanvasExample"
      role="button"
      aria-controls="offcanvasExample"
    >
      <svg
        width="24"
        viewBox="0 0 24 24"
        class="animated-rotate icon-24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M20.8064 7.62361L20.184 6.54352C19.6574 5.6296 18.4905 5.31432 17.5753 5.83872V5.83872C17.1397 6.09534 16.6198 6.16815 16.1305 6.04109C15.6411 5.91402 15.2224 5.59752 14.9666 5.16137C14.8021 4.88415 14.7137 4.56839 14.7103 4.24604V4.24604C14.7251 3.72922 14.5302 3.2284 14.1698 2.85767C13.8094 2.48694 13.3143 2.27786 12.7973 2.27808H11.5433C11.0367 2.27807 10.5511 2.47991 10.1938 2.83895C9.83644 3.19798 9.63693 3.68459 9.63937 4.19112V4.19112C9.62435 5.23693 8.77224 6.07681 7.72632 6.0767C7.40397 6.07336 7.08821 5.98494 6.81099 5.82041V5.82041C5.89582 5.29601 4.72887 5.61129 4.20229 6.52522L3.5341 7.62361C3.00817 8.53639 3.31916 9.70261 4.22975 10.2323V10.2323C4.82166 10.574 5.18629 11.2056 5.18629 11.8891C5.18629 12.5725 4.82166 13.2041 4.22975 13.5458V13.5458C3.32031 14.0719 3.00898 15.2353 3.5341 16.1454V16.1454L4.16568 17.2346C4.4124 17.6798 4.82636 18.0083 5.31595 18.1474C5.80554 18.2866 6.3304 18.2249 6.77438 17.976V17.976C7.21084 17.7213 7.73094 17.6516 8.2191 17.7822C8.70725 17.9128 9.12299 18.233 9.37392 18.6717C9.53845 18.9489 9.62686 19.2646 9.63021 19.587V19.587C9.63021 20.6435 10.4867 21.5 11.5433 21.5H12.7973C13.8502 21.5001 14.7053 20.6491 14.7103 19.5962V19.5962C14.7079 19.088 14.9086 18.6 15.2679 18.2407C15.6272 17.8814 16.1152 17.6807 16.6233 17.6831C16.9449 17.6917 17.2594 17.7798 17.5387 17.9394V17.9394C18.4515 18.4653 19.6177 18.1544 20.1474 17.2438V17.2438L20.8064 16.1454C21.0615 15.7075 21.1315 15.186 21.001 14.6964C20.8704 14.2067 20.55 13.7894 20.1108 13.5367V13.5367C19.6715 13.284 19.3511 12.8666 19.2206 12.3769C19.09 11.8873 19.16 11.3658 19.4151 10.928C19.581 10.6383 19.8211 10.3982 20.1108 10.2323V10.2323C21.0159 9.70289 21.3262 8.54349 20.8064 7.63277V7.63277V7.62361Z"
          stroke="currentColor"
          stroke-width="1.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        ></path>
        <circle
          cx="12.1747"
          cy="11.8891"
          r="2.63616"
          stroke="currentColor"
          stroke-width="1.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        ></circle>
      </svg>
    </a>
    <!-- Wrapper End-->
    <!-- offcanvas start -->
    <div
      class="offcanvas offcanvas-end"
      tabindex="-1"
      id="offcanvasExample"
      data-bs-scroll="true"
      data-bs-backdrop="true"
      aria-labelledby="offcanvasExampleLabel"
    >
      <div class="offcanvas-header">
        <div class="d-flex align-items-center">
          <h3 class="offcanvas-title me-3" id="offcanvasExampleLabel">
            Ajustes
          </h3>
        </div>
        <button
          type="button"
          class="btn-close text-reset"
          data-bs-dismiss="offcanvas"
          aria-label="Close"
        ></button>
      </div>
      <div class="offcanvas-body data-scrollbar">
        <div class="row">
          <div class="col-lg-12">
            <h5 class="mb-3">Modo</h5>
            <div class="d-grid gap-3 grid-cols-3 mb-4">
              <div
                class="btn btn-border"
                data-setting="color-mode"
                data-name="color"
                data-value="auto"
              >
                <svg
                  class="icon-20"
                  width="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill="currentColor"
                    d="M7,2V13H10V22L17,10H13L17,2H7Z"
                  />
                </svg>
                <span class="ms-2"> Auto </span>
              </div>

              <div
                class="btn btn-border"
                data-setting="color-mode"
                data-name="color"
                data-value="dark"
              >
                <svg
                  class="icon-20"
                  width="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill="currentColor"
                    d="M9,2C7.95,2 6.95,2.16 6,2.46C10.06,3.73 13,7.5 13,12C13,16.5 10.06,20.27 6,21.54C6.95,21.84 7.95,22 9,22A10,10 0 0,0 19,12A10,10 0 0,0 9,2Z"
                  />
                </svg>
                <span class="ms-2"> Oscuro </span>
              </div>
              <div
                class="btn btn-border active"
                data-setting="color-mode"
                data-name="color"
                data-value="light"
              >
                <svg
                  class="icon-20"
                  width="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill="currentColor"
                    d="M12,8A4,4 0 0,0 8,12A4,4 0 0,0 12,16A4,4 0 0,0 16,12A4,4 0 0,0 12,8M12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6A6,6 0 0,1 18,12A6,6 0 0,1 12,18M20,8.69V4H15.31L12,0.69L8.69,4H4V8.69L0.69,12L4,15.31V20H8.69L12,23.31L15.31,20H20V15.31L23.31,12L20,8.69Z"
                  />
                </svg>
                <span class="ms-2"> Claro</span>
              </div>
            </div>
            <hr class="hr-horizontal" />
            <div class="d-flex align-items-center justify-content-between">
              <h5 class="mt-4 mb-3">Colores Personalizados</h5>
              <button
                class="btn btn-transparent p-0 border-0"
                data-value="theme-color-default"
                data-info="#079aa2"
                data-setting="color-mode1"
                data-name="color"
                data-bs-toggle="tooltip"
                data-bs-placement="top"
                title=""
                data-bs-original-title="Default"
              >
                <svg
                  class="icon-18"
                  width="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M21.4799 12.2424C21.7557 12.2326 21.9886 12.4482 21.9852 12.7241C21.9595 14.8075 21.2975 16.8392 20.0799 18.5506C18.7652 20.3986 16.8748 21.7718 14.6964 22.4612C12.518 23.1505 10.1711 23.1183 8.01299 22.3694C5.85488 21.6205 4.00382 20.196 2.74167 18.3126C1.47952 16.4293 0.875433 14.1905 1.02139 11.937C1.16734 9.68346 2.05534 7.53876 3.55018 5.82945C5.04501 4.12014 7.06478 2.93987 9.30193 2.46835C11.5391 1.99683 13.8711 2.2599 15.9428 3.2175L16.7558 1.91838C16.9822 1.55679 17.5282 1.62643 17.6565 2.03324L18.8635 5.85986C18.945 6.11851 18.8055 6.39505 18.549 6.48314L14.6564 7.82007C14.2314 7.96603 13.8445 7.52091 14.0483 7.12042L14.6828 5.87345C13.1977 5.18699 11.526 4.9984 9.92231 5.33642C8.31859 5.67443 6.8707 6.52052 5.79911 7.74586C4.72753 8.97119 4.09095 10.5086 3.98633 12.1241C3.8817 13.7395 4.31474 15.3445 5.21953 16.6945C6.12431 18.0446 7.45126 19.0658 8.99832 19.6027C10.5454 20.1395 12.2278 20.1626 13.7894 19.6684C15.351 19.1743 16.7062 18.1899 17.6486 16.8652C18.4937 15.6773 18.9654 14.2742 19.0113 12.8307C19.0201 12.5545 19.2341 12.3223 19.5103 12.3125L21.4799 12.2424Z"
                    fill="#31BAF1"
                  />
                  <path
                    d="M20.0941 18.5594C21.3117 16.848 21.9736 14.8163 21.9993 12.7329C22.0027 12.4569 21.7699 12.2413 21.4941 12.2512L19.5244 12.3213C19.2482 12.3311 19.0342 12.5633 19.0254 12.8395C18.9796 14.283 18.5078 15.6861 17.6628 16.8739C16.7203 18.1986 15.3651 19.183 13.8035 19.6772C12.2419 20.1714 10.5595 20.1483 9.01246 19.6114C7.4654 19.0746 6.13845 18.0534 5.23367 16.7033C4.66562 15.8557 4.28352 14.9076 4.10367 13.9196C4.00935 18.0934 6.49194 21.37 10.008 22.6416C10.697 22.8908 11.4336 22.9852 12.1652 22.9465C13.075 22.8983 13.8508 22.742 14.7105 22.4699C16.8889 21.7805 18.7794 20.4073 20.0941 18.5594Z"
                    fill="#0169CA"
                  />
                </svg>
              </button>
            </div>
            <div class="grid-cols-5 mb-4 d-grid gap-x-2">
              <div
                class="btn btn-border bg-transparent"
                data-value="theme-color-blue"
                data-info="#573BFF"
                data-setting="color-mode1"
                data-name="color"
                data-bs-toggle="tooltip"
                data-bs-placement="top"
                title=""
                data-bs-original-title="Theme-1"
              >
                <svg
                  class="customizer-btn icon-32"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  width="32"
                >
                  <circle cx="12" cy="12" r="10" fill="#00C3F9" />
                  <path d="M2,12 a1,1 1 1,0 20,0" fill="#573BFF" />
                </svg>
              </div>
              <div
                class="btn btn-border bg-transparent"
                data-value="theme-color-gray"
                data-info="#FD8D00"
                data-setting="color-mode1"
                data-name="color"
                data-bs-toggle="tooltip"
                data-bs-placement="top"
                title=""
                data-bs-original-title="Theme-2"
              >
                <svg
                  class="customizer-btn icon-32"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  width="32"
                >
                  <circle cx="12" cy="12" r="10" fill="#91969E" />
                  <path d="M2,12 a1,1 1 1,0 20,0" fill="#FD8D00" />
                </svg>
              </div>
              <div
                class="btn btn-border bg-transparent"
                data-value="theme-color-red"
                data-info="#366AF0"
                data-setting="color-mode1"
                data-name="color"
                data-bs-toggle="tooltip"
                data-bs-placement="top"
                title=""
                data-bs-original-title="Theme-3"
              >
                <svg
                  class="customizer-btn icon-32"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  width="32"
                >
                  <circle cx="12" cy="12" r="10" fill="#DB5363" />
                  <path d="M2,12 a1,1 1 1,0 20,0" fill="#366AF0" />
                </svg>
              </div>
              <div
                class="btn btn-border bg-transparent"
                data-value="theme-color-yellow"
                data-info="#6410F1"
                data-setting="color-mode1"
                data-name="color"
                data-bs-toggle="tooltip"
                data-bs-placement="top"
                title=""
                data-bs-original-title="Theme-4"
              >
                <svg
                  class="customizer-btn icon-32"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  width="32"
                >
                  <circle cx="12" cy="12" r="10" fill="#EA6A12" />
                  <path d="M2,12 a1,1 1 1,0 20,0" fill="#6410F1" />
                </svg>
              </div>
              <div
                class="btn btn-border bg-transparent"
                data-value="theme-color-pink"
                data-info="#25C799"
                data-setting="color-mode1"
                data-name="color"
                data-bs-toggle="tooltip"
                data-bs-placement="top"
                title=""
                data-bs-original-title="Theme-5"
              >
                <svg
                  class="customizer-btn icon-32"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  width="32"
                >
                  <circle cx="12" cy="12" r="10" fill="#E586B3" />
                  <path d="M2,12 a1,1 1 1,0 20,0" fill="#25C799" />
                </svg>
              </div>
            </div>
            <hr class="hr-horizontal" />
            <h5 class="mb-3 mt-4">Dirección del menú</h5>
            <div class="d-grid gap-3 grid-cols-2 mb-4">
              <div class="text-center">
                <img
                  src="../assets/images/settings/dark/01.png"
                  alt="ltr"
                  class="mode dark-img img-fluid btn-border p-0 flex-column active mb-2"
                  data-setting="dir-mode"
                  data-name="dir"
                  data-value="ltr"
                />
                <img
                  src="../assets/images/settings/light/01.png"
                  alt="ltr"
                  class="mode light-img img-fluid btn-border p-0 flex-column active mb-2"
                  data-setting="dir-mode"
                  data-name="dir"
                  data-value="ltr"
                />
                <span class="mt-2"> LTR </span>
              </div>
              <div class="text-center">
                <img
                  src="../assets/images/settings/dark/02.png"
                  alt=""
                  class="mode dark-img img-fluid btn-border p-0 flex-column mb-2"
                  data-setting="dir-mode"
                  data-name="dir"
                  data-value="rtl"
                />
                <img
                  src="../assets/images/settings/light/02.png"
                  alt=""
                  class="mode light-img img-fluid btn-border p-0 flex-column mb-2"
                  data-setting="dir-mode"
                  data-name="dir"
                  data-value="rtl"
                />
                <span class="mt-2"> RTL </span>
              </div>
            </div>
            <hr class="hr-horizontal" />
            <h5 class="mt-4 mb-3">Color del Menú</h5>
            <div class="d-grid gap-3 grid-cols-2 mb-4">
              <div
                class="btn btn-border d-block"
                data-setting="sidebar"
                data-name="sidebar-color"
                data-value="sidebar-white"
              >
                <span class=""> Defecto </span>
              </div>
              <div
                class="btn btn-border d-block"
                data-setting="sidebar"
                data-name="sidebar-color"
                data-value="sidebar-dark"
              >
                <span class=""> Oscuro </span>
              </div>
              <div
                class="btn btn-border d-block"
                data-setting="sidebar"
                data-name="sidebar-color"
                data-value="sidebar-color"
              >
                <span class=""> Color </span>
              </div>

              <div
                class="btn btn-border d-block"
                data-setting="sidebar"
                data-name="sidebar-color"
                data-value="sidebar-transparent"
              >
                <span class=""> Trasparente </span>
              </div>
            </div>
            <hr class="hr-horizontal" />
            <h5 class="mt-4 mb-3">Tipo del Menú</h5>
            <div class="d-grid gap-3 grid-cols-3 mb-4">
              <div class="text-center">
                <img
                  src="../assets/images/settings/dark/03.png"
                  alt="mini"
                  class="mode dark-img img-fluid btn-border p-0 flex-column mb-2"
                  data-setting="sidebar"
                  data-name="sidebar-type"
                  data-value="sidebar-mini"
                />
                <img
                  src="../assets/images/settings/light/03.png"
                  alt="mini"
                  class="mode light-img img-fluid btn-border p-0 flex-column mb-2"
                  data-setting="sidebar"
                  data-name="sidebar-type"
                  data-value="sidebar-mini"
                />
                <span class="mt-2">Mini</span>
              </div>
              <div class="text-center">
                <img
                  src="../assets/images/settings/dark/04.png"
                  alt="hover"
                  class="mode dark-img img-fluid btn-border p-0 flex-column mb-2"
                  data-setting="sidebar"
                  data-name="sidebar-type"
                  data-value="sidebar-hover"
                  data-extra-value="sidebar-mini"
                />
                <img
                  src="../assets/images/settings/light/04.png"
                  alt="hover"
                  class="mode light-img img-fluid btn-border p-0 flex-column mb-2"
                  data-setting="sidebar"
                  data-name="sidebar-type"
                  data-value="sidebar-hover"
                  data-extra-value="sidebar-mini"
                />
                <span class="mt-2">Hover</span>
              </div>
              <div class="text-center">
                <img
                  src="../assets/images/settings/dark/05.png"
                  alt="boxed"
                  class="mode dark-img img-fluid btn-border p-0 flex-column mb-2"
                  data-setting="sidebar"
                  data-name="sidebar-type"
                  data-value="sidebar-boxed"
                />
                <img
                  src="../assets/images/settings/light/05.png"
                  alt="boxed"
                  class="mode light-img img-fluid btn-border p-0 flex-column mb-2"
                  data-setting="sidebar"
                  data-name="sidebar-type"
                  data-value="sidebar-boxed"
                />
                <span class="mt-2">Boxed</span>
              </div>
            </div>
            <hr class="hr-horizontal" />
            <h5 class="mt-4 mb-3">Estilo del menú</h5>
            <div class="d-grid gap-3 grid-cols-2 mb-4">
              <div class="text-center">
                <img
                  src="../assets/images/settings/dark/06.png"
                  alt="rounded-one-side"
                  class="mode dark-img img-fluid btn-border p-0 flex-column mb-2"
                  data-setting="sidebar"
                  data-name="sidebar-item"
                  data-value="navs-rounded"
                />
                <img
                  src="../assets/images/settings/light/06.png"
                  alt="rounded-one-side"
                  class="mode light-img img-fluid btn-border p-0 flex-column mb-2"
                  data-setting="sidebar"
                  data-name="sidebar-item"
                  data-value="navs-rounded"
                />
                <span class="mt-2">Rounded One Side</span>
              </div>
              <div class="text-center">
                <img
                  src="../assets/images/settings/dark/07.png"
                  alt="rounded-all"
                  class="mode dark-img img-fluid btn-border p-0 flex-column active mb-2"
                  data-setting="sidebar"
                  data-name="sidebar-item"
                  data-value="navs-rounded-all"
                />
                <img
                  src="../assets/images/settings/light/07.png"
                  alt="rounded-all"
                  class="mode light-img img-fluid btn-border p-0 flex-column active mb-2"
                  data-setting="sidebar"
                  data-name="sidebar-item"
                  data-value="navs-rounded-all"
                />
                <span class="mt-2">Rounded All</span>
              </div>
              <div class="text-center">
                <img
                  src="../assets/images/settings/dark/08.png"
                  alt="pill-one-side"
                  class="mode dark-img img-fluid btn-border p-0 flex-column mb-2"
                  data-setting="sidebar"
                  data-name="sidebar-item"
                  data-value="navs-pill"
                />
                <img
                  src="../assets/images/settings/light/09.png"
                  alt="pill-one-side"
                  class="mode light-img img-fluid btn-border p-0 flex-column mb-2"
                  data-setting="sidebar"
                  data-name="sidebar-item"
                  data-value="navs-pill"
                />
                <span class="mt-2">Pill One Side</span>
              </div>
              <div class="text-center">
                <img
                  src="../assets/images/settings/dark/09.png"
                  alt="pill-all"
                  class="mode dark-img img-fluid btn-border p-0 flex-column"
                  data-setting="sidebar"
                  data-name="sidebar-item"
                  data-value="navs-pill-all"
                />
                <img
                  src="../assets/images/settings/light/08.png"
                  alt="pill-all"
                  class="mode light-img img-fluid btn-border p-0 flex-column"
                  data-setting="sidebar"
                  data-name="sidebar-item"
                  data-value="navs-pill-all"
                />
                <span class="mt-2">Pill All</span>
              </div>
            </div>
            <hr class="hr-horizontal" />
            <h5 class="mt-4 mb-3">Estilo del Navbar</h5>
            <div class="d-grid gap-3 grid-cols-2">
              <div class="text-center">
                <img
                  src="../assets/images/settings/dark/11.png"
                  alt="image"
                  class="mode dark-img img-fluid btn-border p-0 flex-column mb-2"
                  data-setting="navbar"
                  data-target=".iq-navbar"
                  data-name="navbar-type"
                  data-value="nav-glass"
                />
                <img
                  src="../assets/images/settings/light/10.png"
                  alt="image"
                  class="mode light-img img-fluid btn-border p-0 flex-column mb-2"
                  data-setting="navbar"
                  data-target=".iq-navbar"
                  data-name="navbar-type"
                  data-value="nav-glass"
                />
                <span class="mt-2">Glass</span>
              </div>
              <div class="text-center">
                <img
                  src="../assets/images/settings/dark/10.png"
                  alt="color"
                  class="mode dark-img img-fluid btn-border p-0 flex-column mb-2"
                  data-setting="navbar"
                  data-target=".iq-navbar-header"
                  data-name="navbar-type"
                  data-value="navs-bg-color"
                />
                <img
                  src="../assets/images/settings/light/11.png"
                  alt="color"
                  class="mode light-img img-fluid btn-border p-0 flex-column mb-2"
                  data-setting="navbar"
                  data-target=".iq-navbar-header"
                  data-name="navbar-type"
                  data-value="navs-bg-color"
                />
                <span class="mt-2">Color</span>
              </div>
              <div class="text-center">
                <img
                  src="../assets/images/settings/dark/12.png"
                  alt="sticky"
                  class="mode dark-img img-fluid btn-border p-0 flex-column mb-2"
                  data-setting="navbar"
                  data-target=".iq-navbar"
                  data-name="navbar-type"
                  data-value="navs-sticky"
                />
                <img
                  src="../assets/images/settings/light/12.png"
                  alt="sticky"
                  class="mode light-img img-fluid btn-border p-0 flex-column mb-2"
                  data-setting="navbar"
                  data-target=".iq-navbar"
                  data-name="navbar-type"
                  data-value="navs-sticky"
                />
                <span class="mt-2">Sticky</span>
              </div>
              <div class="text-center">
                <img
                  src="../assets/images/settings/dark/13.png"
                  alt="transparent"
                  class="mode dark-img img-fluid btn-border p-0 flex-column mb-2"
                  data-setting="navbar"
                  data-target=".iq-navbar"
                  data-name="navbar-type"
                  data-value="navs-transparent"
                />
                <img
                  src="../assets/images/settings/light/13.png"
                  alt="transparent"
                  class="mode light-img img-fluid btn-border p-0 flex-column mb-2"
                  data-setting="navbar"
                  data-target=".iq-navbar"
                  data-name="navbar-type"
                  data-value="navs-transparent"
                />
                <span class="mt-2">Trasparente</span>
              </div>
              <div
                class="btn btn-border active col-span-full mt-4 d-block"
                data-setting="navbar"
                data-name="navbar-default"
                data-value="default"
              >
                <span class=""> Menú por defecto</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Detecta modo guardado y lo aplica al <body> o al .loader directamente
      (function() {
        const loader = document.querySelector('.loader');
        const color = sessionStorage.getItem("color-mode");
        if (color === "dark" || color === "light") {
          loader.classList.add(color);
        }
      })();
    </script>

    <!-- Library Bundle Script -->
    <script src="../assets/js/core/libs.min.js"></script>

    <!-- External Library Bundle Script -->
    <script src="../assets/js/core/external.min.js"></script>

    <!-- Widgetchart Script -->
    <script src="../assets/js/charts/widgetcharts.js"></script>

    <!-- mapchart Script -->
    <script src="../assets/js/charts/vectore-chart.js"></script>
    <script src="../assets/js/charts/dashboard.js"></script>

    <!-- fslightbox Script -->
    <script src="../assets/js/plugins/fslightbox.js"></script>

    <!-- Settings Script -->
    <script src="../assets/js/plugins/setting.js"></script>

    <!-- Slider-tab Script -->
    <script src="../assets/js/plugins/slider-tabs.js"></script>

    <!-- Form Wizard Script -->
    <script src="../assets/js/plugins/form-wizard.js"></script>

    <!-- AOS Animation Plugin-->
    <script src="../assets/vendor/aos/dist/aos.js"></script>

    <!-- App Script -->
    <script src="../assets/js/hope-ui.js" defer></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

    <script>
      toastr.options = {
        closeButton: true,
        positionClass: "toast-top-right",
        timeOut: "3000",
      };

      document
        .getElementById("registrarEmpresa")
        .addEventListener("click", async () => {
          const razonSocial = document.getElementById("razonSocial").value;
          const numRuc = document.getElementById("numRuc").value;

          if (!razonSocial || razonSocial.trim().length == 0) {
            toastr["error"]("Ingresa una Razón Social correcto!");
            document.getElementById("razonSocial").classList.add("is-invalid");
            return;
          }

          if (!numRuc || numRuc.trim().length == 0) {
            toastr["error"]("Ingresa un número RUC correcto!");
            document.getElementById("numRuc").classList.add("is-invalid");
            return;
          }

          let raw = null;
          try {
            const myHeaders = new Headers();
            myHeaders.append("X-Auth-Token", localStorage.getItem("token"));

            raw = JSON.stringify({
              razonSocial: razonSocial,
              ruc: numRuc,
            });

            const requestOptions = {
              method: "POST",
              headers: myHeaders,
              body: raw,
              redirect: "follow",
            };

            document.getElementById("registrarEmpresa").innerHTML = `
              <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>
              Registrando...`;
            document.getElementById("registrarEmpresa").disabled = true;

            const response = await fetch(
              `${API_BASE_URL}public/motorizados.php`,
              requestOptions,
            );

            const data = await response.json();

            if (!response.ok) {
              throw new Error(data.error || "Error al registrar empresa");
            }

            if (response.ok) {
              document
                .getElementById("razonSocial")
                .classList.remove("is-invalid");
              document.getElementById("numRuc").classList.remove("is-invalid");
              await cargarDatosIniciales();
            }

            document.getElementById("registrarEmpresa").innerHTML = `
              Registrar`;
            document.getElementById("registrarEmpresa").disabled = false;

            toastr["success"]("Empresa creada con éxito!");

            // 1. Cierra el modal
            const modal = bootstrap.Modal.getInstance(
              document.getElementById("modalRegistrarEmpresa"),
            );
            modal.hide();

            document.getElementById("razonSocial").value = "";
            document.getElementById("numRuc").value = "";
          } catch (error) {
            console.log(error);
            //localStorage.clear();
            // Redirigir, si aplica
            //window.location.href = "../index.html";
          } finally {
            await REGISTRAR_SOPORTE({ tipo: 'REGISTRAR EMPRESA MOTORIZADO', payload: raw})
          }
        });

      async function cargarDatosIniciales() {

        const info = localStorage.getItem('detalle');
        const detalle = JSON.parse(info);

        if(!detalle || ( detalle && detalle.secciones.length == 0) ) {
          localStorage.clear();
          window.location.href = "../index.html";
          return;
        }

        const seccionVerificada = detalle?.secciones?.find(seccion => seccion == 'MOTORIZADOS');

        if(!seccionVerificada) {
          localStorage.clear();
          window.location.href = "../index.html";
        }

        const cargando = document.getElementById("cargando");
        const tabla = document.getElementById("tablaDatos");
        cargando.style.display = "block";
        tabla.style.display = "none";

        await Promise.all([listadoEmpresas(), listadoDocumentos()]);

        cargando.style.display = "none";
        tabla.style.display = "block";
      }

      async function listadoEmpresas() {
        try {
          const myHeaders = new Headers();
          myHeaders.append("X-Auth-Token", localStorage.getItem("token"));
          const response = await fetch(
            `${API_BASE_URL}public/motorizados.php`,
            {
              method: "GET",
              headers: myHeaders,
            },
          );

          const data = await response.json();

          if (!response.ok) {
            throw new Error(data.error || "Error al obtener documento");
          }

          let motorizadosSelect = `<option value="null" selected>TODOS</option>
              `;
          let empresaSelect = "";

          for (const empresa of data.empresas) {
            motorizadosSelect += `<option value="${empresa.idTransportista}">${empresa.ruc} - ${empresa.razonSocial}</option>`;
            empresaSelect += `<option value="${empresa.idTransportista}">${empresa.ruc} - ${empresa.razonSocial}</option>`;
          }

          document.getElementById("idEmpresas").innerHTML =
            motorizadosSelect + " </select>";
          document.getElementById("idEmpresaP").innerHTML = empresaSelect;
          document.getElementById("idEmpresaPR").innerHTML = empresaSelect;

          $("#idEmpresas").select2();

          $("#idEmpresaP").select2({
            dropdownParent: $("#modalEditarPersona"),
          });

          $("#idEmpresaPR").select2({
            dropdownParent: $("#modalRegistrarMotorizado"),
          });
        } catch (error) {
          console.log(error);
          //localStorage.clear();
          // Redirigir, si aplica
          // window.location.href = "../index.html";
        }
      }

      async function listadoDocumentos() {
        try {
          const myHeaders = new Headers();
          myHeaders.append("X-Auth-Token", localStorage.getItem("token"));
          const response = await fetch(`${API_BASE_URL}public/persona.php`, {
            method: "GET",
            headers: myHeaders,
          });

          const data = await response.json();

          let optionTiposDocumento = "";

          for (const documento of data) {
            optionTiposDocumento += `<option ${documento.idTipoDocumentoIdentidad === 2 ? "selected" : ""} value="${documento.idTipoDocumentoIdentidad}">${documento.descripcion}</option>`;
          }

          document.getElementById("tipDocumento").innerHTML =
            optionTiposDocumento;
          document.getElementById("tipDocumentoR").innerHTML =
            optionTiposDocumento;

          $("#tipDocumento").select2({
            dropdownParent: $("#modalEditarPersona"),
          });

          $("#tipDocumentoR").select2({
            dropdownParent: $("#modalRegistrarMotorizado"),
          });

          if (!response.ok) {
            throw new Error(data.error || "Error al obtener documento");
          }
        } catch (error) {
          console.log("error", error);
          //localStorage.clear();
          // Redirigir, si aplica
          //window.location.href = "../index.html";
        }
      }

      cargarDatosIniciales();

      document
        .getElementById("buscarMotorizado")
        .addEventListener("click", async (e) => {
          e.preventDefault();
          const tipo = "PEDIDO";
          const codigoMotorizado =
            document.getElementById("codigoMotorizado").value;
          const numeroDocumento =
            document.getElementById("numeroDocumento").value;
          let idEmpresa = document.getElementById("idEmpresas").value;
          if (idEmpresa == "null") {
            idEmpresa = null;
          }
          if (
            !idEmpresa &&
            (!codigoMotorizado || codigoMotorizado.trim().length == 0) &&
            (!numeroDocumento || numeroDocumento.trim().length == 0)
          ) {
            if (!codigoMotorizado || codigoMotorizado.trim().length == 0) {
              toastr["error"]("Ingresa un número pedido correcto!");
              document
                .getElementById("codigoMotorizado")
                .classList.add("is-invalid");
            }

            if (!numeroDocumento || numeroDocumento.trim().length == 0) {
              toastr["error"]("Ingresa un número documento correcto!");
              document
                .getElementById("numeroDocumento")
                .classList.add("is-invalid");
            }
            return;
          }

          document.getElementById("buscarMotorizado").innerHTML = `
              <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>
              Buscando...`;
          document.getElementById("buscarMotorizado").disabled = true;
          const cargando = document.getElementById("cargando");
          const tabla = document.getElementById("tablaDatos");
          cargando.style.display = "block";
          tabla.style.display = "none";

          await buscarMotorizadosSolicitud({
            codigoMotorizado,
            idEmpresa,
            numeroDocumento,
          });
          cargando.style.display = "none";
          tabla.style.display = "block";
          document.getElementById("buscarMotorizado").innerHTML =
            `Buscar Motorizado`;
          document.getElementById("buscarMotorizado").disabled = false;
        });

      document
        .getElementById("codigoMotorizado")
        .addEventListener("input", () => {
          document
            .getElementById("codigoMotorizado")
            .classList.remove("is-invalid");
        });

      document
        .getElementById("codigoMotorizadoPR")
        .addEventListener("blur", async () => {
          const codigoMotorizado =
            document.getElementById("codigoMotorizadoPR").value;
          document
            .getElementById("codigoMotorizadoPR")
            .classList.remove("is-invalid");
          document.getElementById("registrarMotorizado").disabled = true;
          const motorizado = await existeMotorizado({
            codigoMotorizado,
            idEmpresa: "",
            numeroDocumento: "",
          });
          if (motorizado) {
            toastr["error"]("Ya existe este código de motorizado");
            document
              .getElementById("codigoMotorizadoPR")
              .classList.add("is-invalid");
            return;
          } else {
            toastr["success"]("Código de motorizado disponible");
            document.getElementById("registrarMotorizado").disabled = false;
            return;
          }
        });

      document.getElementById("numDocR").addEventListener("blur", async () => {
        const numeroDocumento = document.getElementById("numDocR").value;
        document.getElementById("numDocR").classList.remove("is-invalid");
        document.getElementById("registrarMotorizado").disabled = true;
        const motorizado = await existeMotorizado({
          codigoMotorizado: "",
          idEmpresa: "",
          numeroDocumento,
        });
        if (motorizado) {
          toastr["error"]("Ya existe este numero de documento");
          document.getElementById("numDocR").classList.add("is-invalid");
          return;
        } else {
          toastr["success"]("Numero de documento disponible");
          document.getElementById("registrarMotorizado").disabled = false;
          return;
        }
      });

      document
        .getElementById("numeroDocumento")
        .addEventListener("input", () => {
          document
            .getElementById("numeroDocumento")
            .classList.remove("is-invalid");
        });

      async function existeMotorizado({
        codigoMotorizado,
        idEmpresa,
        numeroDocumento,
      }) {
        codigoMotorizado = codigoMotorizado.trim();
        numeroDocumento = numeroDocumento.trim();
        try {
          const myHeaders = new Headers();
          myHeaders.append("X-Auth-Token", localStorage.getItem("token"));
          let filtros = "";

          if (idEmpresa != null && idEmpresa != "undefined") {
            filtros += `&idEmpresa=${idEmpresa}`;
          }

          if (
            (numeroDocumento.length > 0) & (numeroDocumento != null) &&
            numeroDocumento != "undefined"
          ) {
            filtros += `&numeroDocumento=${numeroDocumento}`;
          }

          if (
            (codigoMotorizado.length > 0) & (codigoMotorizado != "null") &&
            codigoMotorizado != "undefined"
          ) {
            filtros += `&codigoMotorizado=${codigoMotorizado}`;
          }

          const response = await fetch(
            `${API_BASE_URL}public/motorizados.php?busqueda=true${filtros}`,
            {
              method: "GET",
              headers: myHeaders,
            },
          );

          let data = await response.json();

          if (response.status == 404) {
            return false;
          }

          return true;
        } catch (error) {
          console.log("error", error);
          //localStorage.clear();
          // Redirigir, si aplica
          //window.location.href = "../index.html";
        }
      }

      async function buscarMotorizadosSolicitud({
        codigoMotorizado,
        idEmpresa,
        numeroDocumento,
      }) {
        document
          .getElementById("codigoMotorizado")
          .classList.remove("is-invalid");
        document
          .getElementById("numeroDocumento")
          .classList.remove("is-invalid");

        codigoMotorizado = codigoMotorizado.trim();
        numeroDocumento = numeroDocumento.trim();
        try {
          const myHeaders = new Headers();
          myHeaders.append("X-Auth-Token", localStorage.getItem("token"));
          let filtros = "";

          if (idEmpresa != null && idEmpresa != "undefined") {
            filtros += `&idEmpresa=${idEmpresa}`;
          }

          if (
            (numeroDocumento.length > 0) & (numeroDocumento != null) &&
            numeroDocumento != "undefined"
          ) {
            filtros += `&numeroDocumento=${numeroDocumento}`;
          }

          if (
            (codigoMotorizado.length > 0) & (codigoMotorizado != "null") &&
            codigoMotorizado != "undefined"
          ) {
            filtros += `&codigoMotorizado=${codigoMotorizado}`;
          }

          const response = await fetch(
            `${API_BASE_URL}public/motorizados.php?busqueda=true${filtros}`,
            {
              method: "GET",
              headers: myHeaders,
            },
          );

          let data = await response.json();

          if (response.status == 404) {
            toastr["error"]("No se encontró el motorizado!");
            console.log({ codigoMotorizado, numeroDocumento });
            if (
              (codigoMotorizado.length > 0) & (codigoMotorizado != "null") &&
              codigoMotorizado != "undefined" &&
              !(
                (numeroDocumento.length > 0) & (numeroDocumento != "null") &&
                numeroDocumento != "undefined"
              )
            ) {
              document
                .getElementById("codigoMotorizado")
                .classList.add("is-invalid");
            } else if (
              (numeroDocumento.length > 0) & (numeroDocumento != "null") &&
              numeroDocumento != "undefined" &&
              !(
                (codigoMotorizado.length > 0) & (codigoMotorizado != "null") &&
                codigoMotorizado != "undefined"
              )
            ) {
              document
                .getElementById("numeroDocumento")
                .classList.add("is-invalid");
            } else {
              document
                .getElementById("codigoMotorizado")
                .classList.add("is-invalid");
              document
                .getElementById("numeroDocumento")
                .classList.add("is-invalid");
            }

            data = [];
          }

          if ([401, 403].includes(response.status)) {
            throw new Error(data.error || "Sin acceso");
          }

          if (!response.ok && ![404, 200, 201].includes(response.status)) {
            throw new Error(data.error || "Error al buscar motorizado");
          }

          if (data.length > 0) {
            document
              .getElementById("codigoMotorizado")
              .classList.remove("is-invalid");
          }

          let productoFila = "";

          if (data?.motorizado && data?.motorizado.length > 0) {
            for (const pedido of data.motorizado) {
              productoFila += `
                  <tr style="background-color: ${pedido.stsMotorizado != "ACT" ? "#ff00008f !important;" : "none;"}">
                      <td>${pedido.idMotorizado}</td>
                      <td>${pedido.codigoMotorizado}</td>
                      <td>${pedido.nombre}</td>
                      <td>${pedido.apellidos}</td>
                      <td>${pedido.email}</td>
                      <td>${pedido.tipoDocumento}</td>
                      <td>${pedido.numeroDocumento}</td>
                      <td>${pedido.razonSocial}</td>
                      <td>${pedido.stsMotorizado != "ACT" ? "INACTIVO" : "ACTIVO"}</td>
                      <td> <button class="btn btn-success" 
                      data-tipoDocumento="${pedido.tipoDocumento}"
                      data-idMotorizado="${pedido.idMotorizado}"
                      data-codigoMotorizado="${pedido.codigoMotorizado}"
                      data-nombre="${pedido.nombre}"
                      data-apellidos="${pedido.apellidos}"
                      data-apePaterno="${pedido.apePaterno}"
                      data-apeMaterno="${pedido.apeMaterno}"
                      data-email="${pedido.email}"
                      data-numeroDocumento="${pedido.numeroDocumento}"
                      data-razonSocial="${pedido.razonSocial}"
                      data-stsMotorizado="${pedido.stsMotorizado}"
                      data-idPersona="${pedido.idPersona}"
                      data-idTransportista="${pedido.idTransportista}"
                      data-idTipoDocumentoIdentidad="${pedido.idTipoDocumentoIdentidad}"
                      id="editarPersona" data-bs-toggle="modal" data-bs-target="#modalEditarPersona">Editar</button> </td>
                  </tr>
                `;
            }
          }

          const tabla = $("#datatable");

          tabla.hide();

          if ($.fn.DataTable.isDataTable("#datatable")) {
            tabla.DataTable().clear().destroy();
          }

          document.getElementById("bodyProductos").innerHTML = "";
          document.getElementById("bodyProductos").innerHTML = productoFila;

          tabla.DataTable();
          tabla.show();
        } catch (error) {
          console.log("error", error);
          //localStorage.clear();
          // Redirigir, si aplica
          //window.location.href = "../index.html";
        }
      }

      document.addEventListener("DOMContentLoaded", () => {
        const modalEditar = document.getElementById("modalEditarPersona");

        modalEditar.addEventListener("show.bs.modal", async function (event) {
          const button = event.relatedTarget; // Botón que abrió el modal
          document.getElementById("estadosPedido").hidden = true;

          // Extrae los datos del botón
          const tipoDocumento = button.getAttribute("data-tipoDocumento");
          const idMotorizado = button.getAttribute("data-idMotorizado");
          const codigoMotorizado = button.getAttribute("data-codigoMotorizado");
          const nombre = button.getAttribute("data-nombre");
          const apePaterno = button.getAttribute("data-apePaterno");
          const apeMaterno = button.getAttribute("data-apeMaterno");
          const email = button.getAttribute("data-email");
          const numeroDocumento = button.getAttribute("data-numeroDocumento");
          const razonSocial = button.getAttribute("data-razonSocial");
          const stsMotorizado = button.getAttribute("data-stsMotorizado");
          const idPersona = button.getAttribute("data-idPersona");
          const idTransportista = button.getAttribute("data-idTransportista");
          const idTipoDocumentoIdentidad = button.getAttribute(
            "data-idTipoDocumentoIdentidad",
          );

          // Inserta los datos en los campos del modal
          document.getElementById("tipDocumento").value =
            idTipoDocumentoIdentidad;
          document.getElementById("idPersona").value = idPersona;
          document.getElementById("idMotorizado").value = idMotorizado;
          document.getElementById("nombresP").value = nombre;
          document.getElementById("apellidosP").value = apePaterno;
          document.getElementById("apellidosM").value = apeMaterno;
          document.getElementById("codigoMotorizadoP").value = codigoMotorizado;
          document.getElementById("numDoc").value = numeroDocumento;
          document.getElementById("idEmpresaP").value = idTransportista;
          document.getElementById("emailP").value = email;
          document.getElementById("estadoP").value = stsMotorizado;
          const password = email.split("@");
          document.getElementById("passP").value = password[0];
        });
      });

      document
        .getElementById("registrarMotorizado")
        .addEventListener("click", async (e) => {
          e.preventDefault();

          const idPersona = null;
          const idMotorizado = null;
          const tipDocumento = document.getElementById("tipDocumentoR").value;
          const nombresP = document.getElementById("nombresPR").value;
          const apellidosP = document.getElementById("apellidosPR").value;
          const apellidosM = document.getElementById("apellidosMR").value;
          const codigoMotorizadoP =
            document.getElementById("codigoMotorizadoPR").value;
          const numDoc = document.getElementById("numDocR").value;
          const idEmpresaP = document.getElementById("idEmpresaPR").value;
          const emailP = document.getElementById("emailPR").value;
          const passP = document.getElementById("passPR").value;

          if (
            !numDoc ||
            numDoc.trim().length == 0 ||
            numDoc == "null" ||
            numDoc == "undefined"
          ) {
            document.getElementById("numDocR").classList.add("is-invalid");
            toastr["error"]("Numero de documento inválido!");
            return;
          }

          if (
            !nombresP ||
            nombresP.trim().length == 0 ||
            nombresP == "null" ||
            nombresP == "undefined"
          ) {
            document.getElementById("nombresPR").classList.add("is-invalid");
            document.getElementById("numDocR").classList.remove("is-invalid");
            toastr["error"]("Nombres inválidos!");
            return;
          }

          if (
            !apellidosP ||
            (apellidosP.trim().length == 0) & (apellidosP == "null") ||
            apellidosP == "undefined"
          ) {
            document.getElementById("apellidosPR").classList.add("is-invalid");
            document.getElementById("nombresPR").classList.remove("is-invalid");
            toastr["error"]("Apellido inválido!");
            return;
          }

          if (
            !codigoMotorizadoP ||
            (codigoMotorizadoP.trim().length == 0) &
              (codigoMotorizadoP == "null") ||
            codigoMotorizadoP == "undefined"
          ) {
            document
              .getElementById("codigoMotorizadoPR")
              .classList.add("is-invalid");
            document
              .getElementById("apellidosPR")
              .classList.remove("is-invalid");
            toastr["error"]("Codigo Motorizado inválido!");
            return;
          }

          if (
            !emailP ||
            (emailP.trim().length == 0) & (emailP == "null") ||
            emailP == "undefined"
          ) {
            document.getElementById("emailPR").classList.add("is-invalid");
            document
              .getElementById("apellidosPR")
              .classList.remove("is-invalid");
            toastr["error"]("Correo inválido!");
            return;
          }

          if (
            !passP ||
            (passP.trim().length == 0) & (passP == "null") ||
            passP == "undefined"
          ) {
            document.getElementById("passPR").classList.add("is-invalid");
            document.getElementById("emailPR").classList.remove("is-invalid");
            toastr["error"]("Contraseña inválida!");
            return;
          }

          document.getElementById("emailPR").classList.remove("is-invalid");
          document.getElementById("apellidosPR").classList.remove("is-invalid");
          document.getElementById("passPR").classList.remove("is-invalid");
          document
            .getElementById("codigoMotorizadoPR")
            .classList.remove("is-invalid");
          document.getElementById("nombresPR").classList.remove("is-invalid");
          document.getElementById("numDocR").classList.remove("is-invalid");

          document.getElementById("registrarMotorizado").innerHTML = `
          <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>
          Registrando...`;
          document.getElementById("registrarMotorizado").disabled = true;

          const cargando = document.getElementById("cargando");
          const tabla = document.getElementById("tablaDatos");
          cargando.style.display = "block";
          tabla.style.display = "none";

          const status = await actualizarMotorizado({
            tipDocumento,
            idPersona:
              idPersona && idPersona != "undefined" && idPersona != "null"
                ? idPersona
                : null,
            idMotorizado:
              idMotorizado &&
              idMotorizado != "undefined" &&
              idMotorizado != "null"
                ? idMotorizado
                : null,
            nombresP:
              nombresP &&
              nombresP != "undefined" &&
              nombresP != "null" &&
              nombresP.trim().length > 0
                ? nombresP.trim()
                : null,
            apellidosP:
              apellidosP &&
              apellidosP != "undefined" &&
              apellidosP != "null" &&
              apellidosP.trim().length > 0
                ? apellidosP.trim()
                : null,
            apellidosM:
              apellidosM &&
              apellidosM != "undefined" &&
              apellidosM != "null" &&
              apellidosM.trim().length > 0
                ? apellidosM.trim()
                : null,
            codigoMotorizadoP:
              codigoMotorizadoP &&
              codigoMotorizadoP != "undefined" &&
              codigoMotorizadoP != "null" &&
              codigoMotorizadoP.trim().length > 0
                ? codigoMotorizadoP.trim()
                : null,
            numDoc:
              numDoc &&
              numDoc != "undefined" &&
              numDoc != "null" &&
              numDoc.trim().length > 0
                ? numDoc.trim()
                : null,
            idEmpresaP,
            emailP:
              emailP &&
              emailP != "undefined" &&
              emailP != "null" &&
              emailP.trim().length > 0
                ? emailP.trim()
                : null,
            estadoP: "ACT",
            passP:
              passP &&
              passP != "undefined" &&
              passP != "null" &&
              passP.trim().length > 0
                ? passP.trim()
                : null,
          });

          if (status != false) {
            document.getElementById("tipDocumentoR").value = "2";
            document.getElementById("nombresPR").value = "";
            document.getElementById("apellidosPR").value = "";
            document.getElementById("apellidosMR").value = "";
            document.getElementById("codigoMotorizadoPR").value = "";
            document.getElementById("numDocR").value = "";
            document.getElementById("emailPR").value = "";
            document.getElementById("passPR").value = "";
          }

          document.getElementById("registrarMotorizado").innerHTML = `
          Registrar`;
          document.getElementById("registrarMotorizado").disabled = false;

          cargando.style.display = "none";
          tabla.style.display = "block";
        });
      document
        .getElementById("actualizarPersona")
        .addEventListener("click", async (e) => {
          e.preventDefault();

          const tipDocumento = document.getElementById("tipDocumento").value;
          const idPersona = document.getElementById("idPersona").value;
          const idMotorizado = document.getElementById("idMotorizado").value;
          const nombresP = document.getElementById("nombresP").value;
          const apellidosP = document.getElementById("apellidosP").value;
          const apellidosM = document.getElementById("apellidosM").value;
          const codigoMotorizadoP =
            document.getElementById("codigoMotorizadoP").value;
          const numDoc = document.getElementById("numDoc").value;
          const idEmpresaP = document.getElementById("idEmpresaP").value;
          const emailP = document.getElementById("emailP").value;
          const estadoP = document.getElementById("estadoP").value;
          const passP = document.getElementById("passP").value;

          document.getElementById("actualizarPersona").innerHTML = `
          <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>
          Actualizando...`;
          document.getElementById("actualizarPersona").disabled = true;

          const cargando = document.getElementById("cargando");
          const tabla = document.getElementById("tablaDatos");
          cargando.style.display = "block";
          tabla.style.display = "none";

          await actualizarMotorizado({
            tipDocumento,
            idPersona:
              idPersona && idPersona != "undefined" && idPersona != "null"
                ? idPersona
                : null,
            idMotorizado:
              idMotorizado &&
              idMotorizado != "undefined" &&
              idMotorizado != "null"
                ? idMotorizado
                : null,
            nombresP:
              nombresP &&
              nombresP != "undefined" &&
              nombresP != "null" &&
              nombresP.trim().length > 0
                ? nombresP.trim()
                : null,
            apellidosP:
              apellidosP &&
              apellidosP != "undefined" &&
              apellidosP != "null" &&
              apellidosP.trim().length > 0
                ? apellidosP.trim()
                : null,
            apellidosM:
              apellidosM &&
              apellidosM != "undefined" &&
              apellidosM != "null" &&
              apellidosM.trim().length > 0
                ? apellidosM.trim()
                : null,
            codigoMotorizadoP:
              codigoMotorizadoP &&
              codigoMotorizadoP != "undefined" &&
              codigoMotorizadoP != "null" &&
              codigoMotorizadoP.trim().length > 0
                ? codigoMotorizadoP.trim()
                : null,
            numDoc:
              numDoc &&
              numDoc != "undefined" &&
              numDoc != "null" &&
              numDoc.trim().length > 0
                ? numDoc.trim()
                : null,
            idEmpresaP,
            emailP:
              emailP &&
              emailP != "undefined" &&
              emailP != "null" &&
              emailP.trim().length > 0
                ? emailP.trim()
                : null,
            estadoP,
            passP:
              passP &&
              passP != "undefined" &&
              passP != "null" &&
              passP.trim().length > 0
                ? passP.trim()
                : null,
          });

          document.getElementById("actualizarPersona").innerHTML = `
          Actualizar`;
          document.getElementById("actualizarPersona").disabled = false;

          cargando.style.display = "none";
          tabla.style.display = "block";
        });

      async function actualizarMotorizado({
        tipDocumento,
        idPersona,
        idMotorizado,
        nombresP,
        apellidosP,
        apellidosM,
        codigoMotorizadoP,
        numDoc,
        idEmpresaP,
        emailP,
        estadoP,
        passP,
      }) {
        let raw = null;
        try {
          const myHeaders = new Headers();
          myHeaders.append("Content-Type", "application/json");
          raw = JSON.stringify({
            request: {
              trace: {
                channelId: "45",
                consumerId: "WEB",
                moduleId: "api-ventas-business",
                serviceId: "API-VENTAS",
                traceId: "f4025364-c66e-4648-830d-68cb7d8d20fe",
                timestamp: "1729746595535",
              },
              payload: {
                listadoUsuarios: [
                  {
                    usuarioLogin: emailP,
                    email: emailP,
                    tipo: "MOTO",
                    activo: estadoP == "ACT" ? "1" : "0",
                    password: passP,
                    apePaterno: apellidosP,
                    apeMaterno: apellidosM,
                    nombre: nombresP,
                    idPersona: idPersona,
                    numeroDocumento: numDoc,
                    idTipoDocumentoIdentidad: tipDocumento,
                    codigoMotorizado: codigoMotorizadoP,
                    idTransportista: idEmpresaP,
                  },
                ],
              },
            },
          });

          const response = await fetch(
            `https://8jr1sgtyj7.execute-api.us-east-1.amazonaws.com/stgn/pbi-v2/api/v1/crear/usuarios-cognito`,
            {
              method: "POST",
              headers: myHeaders,
              body: raw,
              redirect: "follow",
            },
          );

          const data = await response.json();

          if (data.response.payload.errores.length > 0) {
            toastr["error"](
              "No se pudo crear el motorizado!" +
                data?.response?.payload?.errores.toString(),
            );
            return false;
          }

          if (!response.ok) {
            throw new Error(data.error || "Error al actualizar persona");
          }

          if (response.ok) {
            toastr["success"]("Datos actualizados con éxito!");
          }
          // 1. Cierra el modal
          const modal = bootstrap.Modal.getInstance(
            document.getElementById("modalEditarPersona"),
          );
          if (modal) {
            modal.hide();
          }

          const modal2 = bootstrap.Modal.getInstance(
            document.getElementById("modalRegistrarMotorizado"),
          );
          if (modal2) {
            modal2.hide();
          }

          // 2. Refresca los resultados

          document.getElementById("codigoMotorizado").value = codigoMotorizadoP;
          document.getElementById("idEmpresas").value = idEmpresaP;
          document.getElementById("numeroDocumento").value = numDoc;

          await buscarMotorizadosSolicitud({
            codigoMotorizado: codigoMotorizadoP,
            idEmpresa: idEmpresaP,
            numeroDocumento: numDoc,
          });
        } catch (error) {
          console.log("error", error);

          //localStorage.clear();
          // Redirigir, si aplica
          //window.location.href = "../index.html";
        } finally {
          await REGISTRAR_SOPORTE({ tipo: 'REGISTRO/ACTUALIZACION MOTORIZADO', payload: raw });
        }
      }
    </script>
  </body>
</html>
